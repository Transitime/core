<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Sep 11 10:01:31 PDT 2014 -->
<title>DataFetcher</title>
<meta name="date" content="2014-09-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataFetcher";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataFetcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/travelTimes/DataFetcher.html" target="_top">Frames</a></li>
<li><a href="DataFetcher.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core.travelTimes</div>
<h2 title="Class DataFetcher" class="title">Class DataFetcher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.travelTimes.DataFetcher</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DataFetcher</span>
extends java.lang.Object</pre>
<div class="block">For retrieving historic AVL based data from database so that travel times can
 be determined.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a></strong></code>
<div class="block">Special MapKey class so that can make sure using the proper key for the
 associated maps in this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#DataFetcher(java.lang.String, java.util.List)">DataFetcher</a></strong>(java.lang.String&nbsp;projectId,
           java.util.List&lt;java.lang.Integer&gt;&nbsp;newSpecialDaysOfWeek)</code>
<div class="block">Sets up needed calendar information if separating out data for special
 days of the week, such as Fridays for weekday service.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/ArrivalDeparture.html" title="class in org.transitime.db.structs">ArrivalDeparture</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#getArrivalDepartureMap()">getArrivalDepartureMap</a></strong>()</code>
<div class="block">Provides the arrival/departure data in a map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#getKey(java.lang.String, java.util.Date, java.lang.String, java.lang.String)">getKey</a></strong>(java.lang.String&nbsp;serviceId,
      java.util.Date&nbsp;date,
      java.lang.String&nbsp;tripId,
      java.lang.String&nbsp;vehicleId)</code>
<div class="block">Returns a key for use in a map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/Match.html" title="class in org.transitime.db.structs">Match</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#getMatchesMap()">getMatchesMap</a></strong>()</code>
<div class="block">Provides the Match data in a map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/ArrivalDeparture.html" title="class in org.transitime.db.structs">ArrivalDeparture</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#readArrivalsDepartures(java.lang.String, java.util.Date, java.util.Date)">readArrivalsDepartures</a></strong>(java.lang.String&nbsp;projectId,
                      java.util.Date&nbsp;beginTime,
                      java.util.Date&nbsp;endTime)</code>
<div class="block">Reads arrivals/departures from db into so can be processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/travelTimes/DataFetcher.html#readData(java.lang.String, java.util.Date, java.util.Date)">readData</a></strong>(java.lang.String&nbsp;projectId,
        java.util.Date&nbsp;beginTime,
        java.util.Date&nbsp;endTime)</code>
<div class="block">Reads arrival/departure times and matches from the db and puts the
 data into the arrivalDepartureMap and matchesMap members.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataFetcher(java.lang.String, java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataFetcher</h4>
<pre>public&nbsp;DataFetcher(java.lang.String&nbsp;projectId,
           java.util.List&lt;java.lang.Integer&gt;&nbsp;newSpecialDaysOfWeek)</pre>
<div class="block">Sets up needed calendar information if separating out data for special
 days of the week, such as Fridays for weekday service.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>projectId</code> - </dd><dd><code>newSpecialDaysOfWeek</code> - List of Integers indicating day of week. Uses
            java.util.Calendar values such as java.util.Calendar.MONDAY .</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getKey(java.lang.String, java.util.Date, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre>public&nbsp;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>&nbsp;getKey(java.lang.String&nbsp;serviceId,
                              java.util.Date&nbsp;date,
                              java.lang.String&nbsp;tripId,
                              java.lang.String&nbsp;vehicleId)</pre>
<div class="block">Returns a key for use in a map. They key consists of the serviceId, an
 optional day of the week if the day specified by the date parameter
 matches the calendar specified by the service ID, the tripId, and the
 vehicleId. This way can separate out data for special days like Fridays
 for a weekday service class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceId</code> - </dd><dd><code>date</code> - Used to determine the day of week to be used in conjunction
            with the service class.</dd><dd><code>tripId</code> - </dd><dd><code>vehicleId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="readArrivalsDepartures(java.lang.String, java.util.Date, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readArrivalsDepartures</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/ArrivalDeparture.html" title="class in org.transitime.db.structs">ArrivalDeparture</a>&gt;&gt;&nbsp;readArrivalsDepartures(java.lang.String&nbsp;projectId,
                                                                                              java.util.Date&nbsp;beginTime,
                                                                                              java.util.Date&nbsp;endTime)</pre>
<div class="block">Reads arrivals/departures from db into so can be processed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>projectId</code> - </dd><dd><code>beginTime</code> - </dd><dd><code>endTime</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="readData(java.lang.String, java.util.Date, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readData</h4>
<pre>public&nbsp;void&nbsp;readData(java.lang.String&nbsp;projectId,
            java.util.Date&nbsp;beginTime,
            java.util.Date&nbsp;endTime)</pre>
<div class="block">Reads arrival/departure times and matches from the db and puts the
 data into the arrivalDepartureMap and matchesMap members.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>projectId</code> - </dd><dd><code>beginTime</code> - </dd><dd><code>endTime</code> - </dd></dl>
</li>
</ul>
<a name="getArrivalDepartureMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArrivalDepartureMap</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/ArrivalDeparture.html" title="class in org.transitime.db.structs">ArrivalDeparture</a>&gt;&gt;&nbsp;getArrivalDepartureMap()</pre>
<div class="block">Provides the arrival/departure data in a map. The values in the map are
 Lists of ArrivalDeparture times, one list for each trip where there was
 historic data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>arrival/departure data</dd></dl>
</li>
</ul>
<a name="getMatchesMap()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMatchesMap</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes">DataFetcher.DbDataMapKey</a>,java.util.List&lt;<a href="../../../../org/transitime/db/structs/Match.html" title="class in org.transitime.db.structs">Match</a>&gt;&gt;&nbsp;getMatchesMap()</pre>
<div class="block">Provides the Match data in a map. The values in the map are Lists of
 Match objects, one list for each trip where there was historic data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>match data</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataFetcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/transitime/core/travelTimes/DataFetcher.DbDataMapKey.html" title="class in org.transitime.core.travelTimes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/travelTimes/DataFetcher.html" target="_top">Frames</a></li>
<li><a href="DataFetcher.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
